{"version":2,"exportedAt":"2023-07-30T16:07:34.734909+00:00","signing":{"cert":"-----BEGIN CERTIFICATE-----\nMIICazCCAfGgAwIBAgIUFJtHAR8D+ZfChHcAXHemH7s8zRowCgYIKoZIzj0EAwIwfDELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkZMMQ4wDAYDVQQHEwVUYW1wYTEOMAwGA1UEChMFUmV3c3QxEzARBgNVBAsTClJld3N0IERldnMxKzApBgNVBAMTImxvY2FsIFJld3N0IEltcG9ydC9FeHBvcnQgQ0EyIHYxLjEwHhcNMjIwNjAzMTkwMDU1WhcNMjUwNTIzMTkwMTI1WjBDMQswCQYDVQQGEwJVUzELMAkGA1UECBMCRkwxDjAMBgNVBAcTBVRhbXBhMRcwFQYDVQQDEw5sb2NhbC5yZXdzdC5pbzB2MBAGByqGSM49AgEGBSuBBAAiA2IABMcTJzyLIvX1+3545EJbFeNVjahxVq6TFQ7n/IYZs4yEMQzDWZjAyHhJPZk3Dxq/wFzesXMYJu41rhxfz7AZh15LtFGfy9V2B4X5KH7sGJWqOan0mabuF83llruTLA/NQaNtMGswDgYDVR0PAQH/BAQDAgeAMB0GA1UdDgQWBBTDePOSC6hckrg6usrK2giZv9GxpjAfBgNVHSMEGDAWgBTojdemsJqfnB19iyMxmIi3OGYw6TAZBgNVHREEEjAQgg5sb2NhbC5yZXdzdC5pbzAKBggqhkjOPQQDAgNoADBlAjEA8NsLnuGhfTPC7dB0ojWf5WmH64qFZuPFD6Q0RwGYO0D1Tn2x5+/37kW3HFcGHV0wAjBM7LSidsc7E9+fmcesnN5hM34eGMP+YWCoEeFIPPANXQKemAgUVf35iXyU64sVEC4=\n-----END CERTIFICATE-----","hash":"sha512","signature":"MGYCMQDTcUqcqFVBacsKeyIYFouQj9n+ecrbFoo90fDH6MNS0brLuyn4tqn2xqbMqJY1rScCMQD7frKXhBgjUZbHICaY9FArWbI0Up42PWKZEGQF3UgIrhSxUtitLEbi53ydDAGvdnE="},"objects":{"transition_id:AvnuLouQCa6mYsEv9o9XX2Mz1XfhsJo92tSfXiAEfWAK":{"type":"transition_id","content_hash":"JA3b7twNWDtkkMzT6xRbUoWUMgTEAuo5ZbuiyWEdb9Lv","hash":"DSgd3BPCwnSXueCCVqqgAPXxMHPPKBCQwbU91G6wjX26","fields":{"id":"387ff849-542b-4952-b9ea-6e664e7cfc07"}},"action:8gGmMWqVhgKuabboDo8BPNMocb18YGmfb2F1pS1s7ky4":{"type":"action","content_hash":"6WRTrAzbSf41nY4XqNYYNUdmUMFzncg7H9zfn2rLVohC","hash":"GgCmemELBxzN5k1RNxjHVKQytodW24LUCY1FjvfDxjrW","fields":{"ref":"core.await_webhook"}},"action:5T5UveQTB6QVqjgwfkvE3m2G4g3WHDfAmgvJHfMUaZd6":{"type":"action","content_hash":"Cq8ffkpQkk1HChTBcX1yuPex7oV4FSKqWKitm3oPsgec","hash":"6NBzyaTBakLKZ5wZZ2SAPXRLMq5irXER1154Mnw2anNP","fields":{"ref":"core.create_webhook"}},"transition_id:J9d3XPB2r8Y96iPBSEy6ukH8VFctsLGAi1jwwx4SoBpG":{"type":"transition_id","content_hash":"3dtgAjPmokAazkXzmsRK4qvMFHdTTdyrG2bjLt8fyVJw","hash":"GcvU288TEUx9ALvVifmG33sL5pYqmxmGDu8fRFdfaTfA","fields":{"id":"00e84cfe-d2a3-4a15-9ff4-41b66204b38d"}},"workflow_task_id:2PwQvftY2Rv3s2ohYuWtSgMUiU6NFortcoNUdaciWq6k":{"type":"workflow_task_id","content_hash":"C4knadW4pkH1mn1TQKUZT7epm8z2An4jUPhdBo5tFo62","hash":"7Yxs2AxKUroYrep4AyPr6SMdgSpcc4XNumepJKDXRHG9","fields":{"id":"4e5ec3e34a064458b5044352badefa96"}},"workflow_task_id:6YTSmWgw5emu8krhJzWpUfwcCVsbJqPAG9xnwEAR4fKE":{"type":"workflow_task_id","content_hash":"AKUzZ5xqkbPDYCK9Wo43EN2CLgkh3rYgycokw33bi1Cc","hash":"3qaJG9bC3T6v6vS7X9qKu9A45LMn1ZL3KNp4FbZoeU4M","fields":{"id":"d8508f29352846d59c69e51767052ce5"}},"transition_id:H961iaAZdDkK3a7wZg7V7JQcexpd2Hxqu7F9WgbA2W3i":{"type":"transition_id","content_hash":"HJGZm3GZNfFWnLDVPhWLv4cTVsCKnuNyMGfiZKX96eX2","hash":"5VdBb87ZHFQ539k4fbztV3NzZW2xMnd2GL1ZM2H7JSXP","fields":{"id":"943c4e24-af54-4bd2-b49a-462b066d2c63"}},"transition_id:62LwejzAbXEneg2mgPJJegSBqVhr6WVJBtmFq8R8QyRT":{"type":"transition_id","content_hash":"m49E8ZVTLHhKBxCvVrgQWgoBg9jP4cxTdWuWEDkC2Au","hash":"2GGRhtWcdSUxA545FDa52SFrtyvw4QrL9ExTFStitnsm","fields":{"id":"bc00f2bf-2d0d-4031-9871-ec96577fb818"}},"workflow_task_id:CwxA58drEiyzLLtubX1V8XTZkKx9mJ9H4CRq9mMEmLEy":{"type":"workflow_task_id","content_hash":"BjDfv7mps7Jou66hXMW5uNmoP2afTYphqv2Z7k7Q9Svu","hash":"2qQvLFMNrn37kVhNELqGgxpni36znQXCxCvxvHK8F2Sw","fields":{"id":"f50cb23fcd414161883b83a9a88ce379"}},"action:Ezr1Te7PBZmb4nng7Gmm7rzqkBxyMH2DE4BJifEUBVKM":{"type":"action","content_hash":"FMu3hsNV7SdbaFHCpQXe4YsxtfRZHq3LfQ8Ej6uv322w","hash":"CDXNu8XJkn4bBRzcx18z5UYnjXiUM2WB6hTMAwGhMQ4K","fields":{"ref":"core.http_request"}},"transition_id:8r6es8GuWs5hwPg9Uvsbe1CCNAFLqp27cTazfmevjk1A":{"type":"transition_id","content_hash":"44k3TTr39sgtEQjR8mi8Ri3Fac9XJqxxggFAjJvuP2wL","hash":"Ee7fcwcQuv2zbGczGBYYkkw17j7FzypxP6U31B5GUgiH","fields":{"id":"45339179-c6e6-4e9c-b627-e2a9fc6a5e69"}},"workflow:8dDb5wevgdCYz7qgaMt7iqvzBUrjASS8HPBVTRUWTPh":{"type":"workflow","content_hash":"Btu6FVeJsgvCLL4r2rJ1SpvSaHehjrg3Jw1rYRxuYTLy","hash":"4CUhrHrbCXr1CsJ1PRUEa1SZXdBut5x8dxYcxqBsMcid","fields":{"humanSecondsSaved":0,"output":[{"approved":"{{ CTX.approvalResult }}"}],"parameters":{"header":{"type":"string","required":true,"multiline":false},"message":{"type":"string","required":true,"multiline":false},"factList":{"type":"array","default":"{{ [  ] }}","required":false,"multiline":false},"teamsWebhook":{"type":"string","required":true,"multiline":false},"ticketNumber":{"type":"string","required":false,"multiline":false},"manageCompany":{"type":"string","required":false,"multiline":false}},"tasks":[{"id":"@@@workflow_task_id_ref1@@@","action":{"id":"@@@action_ref1@@@"},"humanSecondsSaved":0,"input":{"webhook_id":"{{ CTX.webhookID }}"},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"webhookResponse","next":[{"do":[],"from":null,"id":"@@@transition_id_ref1@@@","publish":[{"key":"approvalResult","value":"{{ true }}"}],"to":null,"when":"{{ TASKS.webhookResponse.result.params.action == \"approve\" }}"},{"do":[],"from":null,"id":"@@@transition_id_ref2@@@","publish":[{"key":"approvalResult","value":"{{ false }}"}],"to":null,"when":"{{ TASKS.webhookResponse.result.params.action == \"deny\" }}"}],"packOverrides":[],"publishResultAs":"","retry":null,"runAsOrgId":"","timeout":3600,"transitionMode":"FOLLOW_ALL","with":null},{"id":"@@@workflow_task_id_ref2@@@","action":{"id":"@@@action_ref2@@@"},"humanSecondsSaved":0,"input":{"expires_in":3600,"response_body":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>eTop Technology | Task Confirmation</title>\r\n  <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Newtown:400,400i&display=swap\">\r\n  <style>\r\n    body {\r\n      font-family: 'Newtown', sans-serif;\r\n      background-color: #00548B;\r\n      color: #fff;\r\n      text-align: center;\r\n      padding: 50px;\r\n    }\r\n    \r\n    h1 {\r\n      font-size: 32px;\r\n      margin-bottom: 30px;\r\n    }\r\n    \r\n    p {\r\n      font-size: 18px;\r\n      margin-bottom: 20px;\r\n    }\r\n    \r\n    .confirmation-btn {\r\n      display: inline-block;\r\n      background-color: #4A7628;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      padding: 10px 20px;\r\n      border-radius: 5px;\r\n      text-decoration: none;\r\n      margin-top: 20px;\r\n    }\r\n    \r\n    .confirmation-btn:hover {\r\n      background-color: #77BC1F;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>Task Confirmation</h1>\r\n  <p>Thank you for submitting your response.</p>\r\n  <p>Your approval or denial for the task has been received.</p>\r\n  {% if CTX.ticketNumber | d %}\r\n  <a href=\"https://na.myconnectwise.net/v4_6_release/services/system_io/Service/fv_sr100_request.rails?service_recid={{- CTX.ticketNumber -}}&companyName={{ CTX.manageCompany | d }}\" class=\"confirmation-btn\">Go to related ticket</a>\r\n  {% endif %}\r\n</body>\r\n</html>\r\n","allowed_methods":["GET"],"response_status":"200","response_headers":"{\"Content-Type\": \"text/html\"}"},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"CreateApprove","next":[{"do":["@@@workflow_task_id_ref3@@@"],"from":null,"id":"@@@transition_id_ref3@@@","publish":[{"key":"webhookID","value":"{{ TASKS.CreateApprove.result.result.webhook_id }}"},{"key":"approvalWebhookUrl","value":"{{ TASKS.CreateApprove.result.result.url }}?action=approve"},{"key":"denyWebhookUrl","value":"{{ TASKS.CreateApprove.result.result.url }}?action=deny"}],"to":null,"when":"{{ SUCCEEDED }}"},{"do":[],"from":null,"id":"@@@transition_id_ref4@@@","publish":[],"to":null,"when":"{{ 1==3 }}"}],"packOverrides":[],"publishResultAs":"","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":null},{"id":"@@@workflow_task_id_ref3@@@","action":{"id":"@@@action_ref3@@@"},"humanSecondsSaved":0,"input":{"url":"{{ CTX.teamsWebhook }}","body":"{\r\n    \"@type\": \"MessageCard\",\r\n    \"@context\": \"http://schema.org/extensions\",\r\n    \"themeColor\": \"0076D7\",\r\n    \"summary\": \"{{ CTX.header }}\",\r\n    \"sections\": [{\r\n        \"activityTitle\": \"{{ CTX.header }}\",\r\n        \"activitySubtitle\": \"{{ CTX.message }}\",\r\n        {% if CTX.factList | d %}\r\n        \"facts\": {{ CTX.factList }},\r\n        {% endif %}\r\n        \"markdown\": true\r\n    }],\r\n    \"potentialAction\": [\r\n    {% if CTX.ticketNumber | d %}\r\n    {\r\n        \"@type\": \"OpenUri\",\r\n        \"name\": \"View More Info in Ticket\",\r\n        \"targets\": [{\r\n            \"os\": \"default\",\r\n            \"uri\": \"https://na.myconnectwise.net/v4_6_release/services/system_io/Service/fv_sr100_request.rails?service_recid={{- CTX.ticketNumber -}}&companyName={{ CTX.manageCompany |d }}\"\r\n        }]\r\n    },\r\n    {% endif %} \r\n    {\r\n        \"@type\": \"OpenUri\",\r\n        \"name\": \"Approve\",\r\n        \"targets\": [{\r\n            \"os\": \"default\",\r\n            \"uri\": \"{{ CTX.approvalWebhookUrl }}\"\r\n        }]\r\n    }, {\r\n        \"@type\": \"OpenUri\",\r\n        \"name\": \"Deny\",\r\n        \"targets\": [{\r\n            \"os\": \"default\",\r\n            \"uri\": \"{{ CTX.denyWebhookUrl }}\"\r\n        }]\r\n    }]\r\n}","json":null,"files":[],"method":"POST","params":null,"cookies":null,"headers":null,"timeout":5,"auth_password":null,"auth_username":null,"allow_redirects":true,"require_2xx_status":null},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"SendCard","next":[{"do":["@@@workflow_task_id_ref1@@@"],"from":null,"id":"@@@transition_id_ref5@@@","publish":[],"to":null,"when":"{{ SUCCEEDED }}"}],"packOverrides":[],"publishResultAs":"","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":null}],"timeout":28800,"type":"STANDARD","varsSchema":{}},"nonfunctional_fields":{"description":"","name":"[eTop] Send Teams Approval Card V2","parameters.factList.description":"Leave blank to not show. Each fact should be formatted as an object with the items \"name\" and \"value\", ie { \"name\": \"FactHeader\", \"value\": \"FactMessage\"}","parameters.factList.label":"","parameters.header.description":"","parameters.header.label":"","parameters.manageCompany.description":"YOUR manage company name, ie what you enter when signing in. For making ticket link (not required)","parameters.manageCompany.label":"","parameters.message.description":"","parameters.message.label":"","parameters.teamsWebhook.description":"Webhook to Teams Channel","parameters.teamsWebhook.label":"","parameters.ticketNumber.description":"Used to make link to manage ticket, not required","parameters.ticketNumber.label":"","tasks[0].description":"Wait for a request to a one-off webhook","tasks[0].metadata":{"x":576,"y":120},"tasks[0].next[0].label":"Approved","tasks[0].next[1].label":"Denied","tasks[1].description":"Create a one-off webhook, for intra-workflow signaling","tasks[1].metadata":{"x":576,"y":-216},"tasks[1].next[0].label":"","tasks[1].next[1].label":"","tasks[2].description":"Perform an HTTP request","tasks[2].metadata":{"x":576,"y":-48},"tasks[2].next[0].label":""},"references":{"workflow_task_id_ref2":{"kind":"string","type":"workflow_task_id","src_key_hash":"2PwQvftY2Rv3s2ohYuWtSgMUiU6NFortcoNUdaciWq6k","content_hash":"C4knadW4pkH1mn1TQKUZT7epm8z2An4jUPhdBo5tFo62","locations":["tasks[1].id"]},"workflow_task_id_ref3":{"kind":"string","type":"workflow_task_id","src_key_hash":"6YTSmWgw5emu8krhJzWpUfwcCVsbJqPAG9xnwEAR4fKE","content_hash":"AKUzZ5xqkbPDYCK9Wo43EN2CLgkh3rYgycokw33bi1Cc","locations":["tasks[2].id","tasks[1].next[0].do[0]"]},"action_ref3":{"kind":"string","type":"action","src_key_hash":"Ezr1Te7PBZmb4nng7Gmm7rzqkBxyMH2DE4BJifEUBVKM","content_hash":"FMu3hsNV7SdbaFHCpQXe4YsxtfRZHq3LfQ8Ej6uv322w","locations":["tasks[2].action.id"]},"transition_id_ref4":{"kind":"string","type":"transition_id","src_key_hash":"8r6es8GuWs5hwPg9Uvsbe1CCNAFLqp27cTazfmevjk1A","content_hash":"44k3TTr39sgtEQjR8mi8Ri3Fac9XJqxxggFAjJvuP2wL","locations":["tasks[1].next[1].id"]},"action_ref1":{"kind":"string","type":"action","src_key_hash":"8gGmMWqVhgKuabboDo8BPNMocb18YGmfb2F1pS1s7ky4","content_hash":"6WRTrAzbSf41nY4XqNYYNUdmUMFzncg7H9zfn2rLVohC","locations":["tasks[0].action.id"]},"transition_id_ref5":{"kind":"string","type":"transition_id","src_key_hash":"62LwejzAbXEneg2mgPJJegSBqVhr6WVJBtmFq8R8QyRT","content_hash":"m49E8ZVTLHhKBxCvVrgQWgoBg9jP4cxTdWuWEDkC2Au","locations":["tasks[2].next[0].id"]},"workflow_task_id_ref1":{"kind":"string","type":"workflow_task_id","src_key_hash":"CwxA58drEiyzLLtubX1V8XTZkKx9mJ9H4CRq9mMEmLEy","content_hash":"BjDfv7mps7Jou66hXMW5uNmoP2afTYphqv2Z7k7Q9Svu","locations":["tasks[0].id","tasks[2].next[0].do[0]"]},"transition_id_ref3":{"kind":"string","type":"transition_id","src_key_hash":"J9d3XPB2r8Y96iPBSEy6ukH8VFctsLGAi1jwwx4SoBpG","content_hash":"3dtgAjPmokAazkXzmsRK4qvMFHdTTdyrG2bjLt8fyVJw","locations":["tasks[1].next[0].id"]},"transition_id_ref1":{"kind":"string","type":"transition_id","src_key_hash":"H961iaAZdDkK3a7wZg7V7JQcexpd2Hxqu7F9WgbA2W3i","content_hash":"HJGZm3GZNfFWnLDVPhWLv4cTVsCKnuNyMGfiZKX96eX2","locations":["tasks[0].next[0].id"]},"action_ref2":{"kind":"string","type":"action","src_key_hash":"5T5UveQTB6QVqjgwfkvE3m2G4g3WHDfAmgvJHfMUaZd6","content_hash":"Cq8ffkpQkk1HChTBcX1yuPex7oV4FSKqWKitm3oPsgec","locations":["tasks[1].action.id"]},"transition_id_ref2":{"kind":"string","type":"transition_id","src_key_hash":"AvnuLouQCa6mYsEv9o9XX2Mz1XfhsJo92tSfXiAEfWAK","content_hash":"JA3b7twNWDtkkMzT6xRbUoWUMgTEAuo5ZbuiyWEdb9Lv","locations":["tasks[0].next[1].id"]}},"dependencies":["transition_id:AvnuLouQCa6mYsEv9o9XX2Mz1XfhsJo92tSfXiAEfWAK","action:8gGmMWqVhgKuabboDo8BPNMocb18YGmfb2F1pS1s7ky4","action:5T5UveQTB6QVqjgwfkvE3m2G4g3WHDfAmgvJHfMUaZd6","transition_id:J9d3XPB2r8Y96iPBSEy6ukH8VFctsLGAi1jwwx4SoBpG","workflow_task_id:2PwQvftY2Rv3s2ohYuWtSgMUiU6NFortcoNUdaciWq6k","workflow_task_id:6YTSmWgw5emu8krhJzWpUfwcCVsbJqPAG9xnwEAR4fKE","transition_id:H961iaAZdDkK3a7wZg7V7JQcexpd2Hxqu7F9WgbA2W3i","transition_id:62LwejzAbXEneg2mgPJJegSBqVhr6WVJBtmFq8R8QyRT","workflow_task_id:CwxA58drEiyzLLtubX1V8XTZkKx9mJ9H4CRq9mMEmLEy","action:Ezr1Te7PBZmb4nng7Gmm7rzqkBxyMH2DE4BJifEUBVKM","transition_id:8r6es8GuWs5hwPg9Uvsbe1CCNAFLqp27cTazfmevjk1A"]}},"__typename":"ExportBundle"}